<mat-icon>maximize</mat-icon>

<h2>Solicita tu plan personalizado</h2>

<form [formGroup]="userForm" novalidate>
  <mat-form-field>
    <mat-label>Nombre</mat-label>
    <input matInput formControlName="nombre" maxlength="20" />
    <mat-error *ngIf="userForm.get('nombre')?.hasError('required')"
      >Introduce tu nombre</mat-error
    >
  </mat-form-field>

  <mat-form-field>
    <mat-label>Edad</mat-label>
    <input matInput type="number" formControlName="edad" min="16" />
    <mat-error *ngIf="userForm.get('edad')?.errors"
      >Introduce una edad válida</mat-error
    >
  </mat-form-field>

  <mat-form-field
    matTooltip="Puedes calcular tu IMC en la sección 'Calcular IMC'"
  >
    <mat-label>IMC</mat-label>
    <input matInput type="number" formControlName="IMC" readonly />
    <mat-error *ngIf="userForm.get('IMC')?.hasError('required')"
      >Calcula tu IMC</mat-error
    >
  </mat-form-field>

  <mat-form-field>
    <mat-label>Email</mat-label>
    <input matInput type="email" formControlName="email" maxlength="50" />
    <mat-error *ngIf="userForm.get('email')?.hasError('required')"
      >Introduce tu email</mat-error
    >
    <mat-error *ngIf="userForm.get('email')?.hasError('email')"
      >Introduce un email válido</mat-error
    >
  </mat-form-field>

  <mat-form-field>
    <mat-label>Objetivo</mat-label>
    <mat-select formControlName="selectOption">
      <mat-option value="seleccionar" disabled
        >Selecciona tu objetivo</mat-option
      >
      <mat-option value="perder grasa" (click)="entrenador = 'Carla Alonso'"
        >Perder grasa</mat-option
      >
      <mat-option
        value="mejorar tu salud cardiovascular"
        (click)="entrenador = 'Manuel Rodríguez'"
        >Mejorar tu salud cardiovascular</mat-option
      >
      <mat-option
        value="conseguir masa muscular"
        (click)="entrenador = 'Pilar Vázquez'"
        >Conseguir masa muscular</mat-option
      >
    </mat-select>
    <mat-error *ngIf="userForm.get('selectOption')?.hasError('required')"
      >Selecciona tu objetivo</mat-error
    >
  </mat-form-field>

  <btnComponent [buttonText]="'Borrar datos'" (click)="borrar()"></btnComponent>

  <btnComponent
    [buttonText]="'Enviar datos'"
    [disabled]="userForm.invalid"
  ></btnComponent>

  <btnComponent
    [buttonText]="'Descargar datos'"
    [disabled]="userForm.invalid"
    (click)="descargar()"
  ></btnComponent>
</form>

<ul *ngIf="userForm.valid">
  <p>Estos son tus datos:</p>

  <li>
    Tu nombre es <strong>{{ userForm.get('nombre')?.value }}</strong>
  </li>

  <li>
    Tienes <strong>{{ userForm.get('edad')?.value }} años</strong>
  </li>

  <li>
    Tu IMC es <strong>{{ IMC }}</strong>
  </li>

  <li>
    Tu email es <strong>{{ userForm.get('email')?.value }}</strong>
  </li>

  <li>
    Tu objetivo es <strong>{{ userForm.get('selectOption')?.value }}</strong>
  </li>

  <li>
    Tu entrenador/a va a ser
    <strong>{{ entrenador }}</strong>
  </li>
</ul>
